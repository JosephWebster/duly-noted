{"name":"./testFile1.js","lines":[{"number":0,"longComment":true,"comment":""},{"number":1,"longComment":true,"comment":"# This is a long comment"},{"number":2,"longComment":true,"comment":"## It is awesome."},{"number":3,"comment":""},{"number":4,"code":""},{"number":5,"code":""},{"number":6,"comment":" @authors/Chris !authors/Joe are the best authors ever","code":""},{"number":7,"code":"function myFunc(){ "},{"number":8,"code":"    console.log(\"Test\");"},{"number":9,"code":"}"},{"number":10,"code":""},{"number":11,"code":""},{"number":12,"code":"\"use strict\";"},{"number":13,"code":"var node_dir_1 = require(\"node-dir\");"},{"number":14,"code":"var fs_1 = require(\"fs\");"},{"number":15,"code":"var mkdirp = require(\"mkdirp\");"},{"number":16,"code":"var path = require(\"path\");"},{"number":17,"code":"var log4js = require(\"log4js\");"},{"number":18,"code":"var logger = log4js.getLogger(\"duly-noted::MarkdownGenerator\");"},{"number":19,"code":"var MarkdownGenerator = (function () {"},{"number":20,"code":"    function MarkdownGenerator(outputDir) {"},{"number":21,"code":"        this.outputDir = outputDir;"},{"number":22,"code":"        this.collection = JSON.parse(fs_1.readFileSync(path.join(outputDir, \"references.json\")).toString());"},{"number":23,"code":"    }"},{"number":24,"code":"    MarkdownGenerator.prototype.generate = function () {"},{"number":25,"code":"        var that = this;"},{"number":26,"code":"        node_dir_1.readFiles(this.outputDir, { match: /.json$/, exclude: /tags.json/ }, function (err, content, next) {"},{"number":27,"code":"            that.proccessFile(err, content, next, that.outputDir);"},{"number":28,"code":"        }, that.cleanUp);"},{"number":29,"code":"    };"},{"number":30,"code":"    MarkdownGenerator.prototype.proccessFile = function (err, content, next, outputDir) {"},{"number":31,"code":"        if (err) {"},{"number":32,"code":"            logger.error(err.message);"},{"number":33,"code":"        }"},{"number":34,"code":"        else {"},{"number":35,"code":"            var file_1 = JSON.parse(content);"},{"number":36,"code":"            var output_1 = \"\";"},{"number":37,"code":"            var inCodeBlock = false;"},{"number":38,"code":"            for (var i = 0; i < file_1.lines.length; i++) {"},{"number":39,"code":"                if (typeof (file_1.lines[i].comment) === \"string\" && file_1.lines[i].comment !== \"\" && file_1.lines[i].comment !== null) {"},{"number":40,"code":"                    if (inCodeBlock) {"},{"number":41,"code":"                        output_1 += \"```\" + \"\\n\";"},{"number":42,"code":"                        inCodeBlock = false;"},{"number":43,"code":"                    }"},{"number":44,"code":"                    if (!file_1.lines[i].longComment) {"},{"number":45,"code":"                        output_1 += \"> \";"},{"number":46,"code":"                    }"},{"number":47,"code":"                    output_1 += file_1.lines[i].comment + \"\\n\" + \"\\n\";"},{"number":48,"code":"                }"},{"number":49,"code":"                if (typeof (file_1.lines[i].code) === \"string\" && file_1.lines[i].code !== \"\" && file_1.lines[i].code !== null) {"},{"number":50,"code":"                    if (!inCodeBlock) {"},{"number":51,"code":"                        output_1 += \"```\" + file_1.type + \"\\n\";"},{"number":52,"code":"                        inCodeBlock = true;"},{"number":53,"code":"                    }"},{"number":54,"code":"                    output_1 += file_1.lines[i].code + \"\\n\";"},{"number":55,"code":"                }"},{"number":56,"code":"            }"},{"number":57,"code":"            if (inCodeBlock) {"},{"number":58,"code":"                output_1 += \"```\" + \"\\n\";"},{"number":59,"code":"                inCodeBlock = false;"},{"number":60,"code":"            }"},{"number":61,"code":"            var filePathArray = path.join(outputDir, file_1.name + \".md\").split(\"/\");"},{"number":62,"code":"            filePathArray.pop();"},{"number":63,"code":"            var filePath = filePathArray.join(\"/\");"},{"number":64,"code":"            mkdirp(filePath, function (err) {"},{"number":65,"code":"                if (err) {"},{"number":66,"code":"                    logger.fatal(err.message);"},{"number":67,"code":"                }"},{"number":68,"code":"                else {"},{"number":69,"code":"                    logger.info(\"Saving output for \" + file_1.type + \" file \" + file_1.name);"},{"number":70,"code":"                    fs_1.writeFileSync(path.join(outputDir, file_1.name + \".md\"), output_1, { flag: \"w\" });"},{"number":71,"code":"                }"},{"number":72,"code":"            });"},{"number":73,"code":"            next();"},{"number":74,"code":"        }"},{"number":75,"code":"    };"},{"number":76,"code":"    MarkdownGenerator.prototype.cleanUp = function (err, files) {"},{"number":77,"code":"    };"},{"number":78,"code":"    return MarkdownGenerator;"},{"number":79,"code":"}());"},{"number":80,"comment":" This line contains a link !authors/Chris","code":""},{"number":81,"code":"exports.MarkdownGenerator = MarkdownGenerator;"}],"type":"javascript"}